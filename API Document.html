<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Documentation - /predict</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-5">
        <h1 class="text-center">API Documentation - /predict Endpoint</h1>

        <h2>URL</h2>
        <pre><code>POST /predict</code></pre>

        <h2>Description</h2>
        <p>This endpoint accepts input data about a person's health and lifestyle features, and returns the predicted category (e.g., high risk, low risk, or diseased) along with the associated probability of that prediction.</p>

        <h2>Request</h2>
        <p>The request should be a <strong>POST</strong> request, and the body should contain a JSON object with the following fields:</p>

        <h3>Request Body Parameters</h3>
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th>Parameter</th>
                    <th>Type</th>
                    <th>Description</th>
                    <th>Example</th>
                </tr>
            </thead>
            <tbody>
                <tr><td>HighBP</td><td>int</td><td>Whether the individual has high blood pressure: 0 for no, 1 for yes.</td><td>1</td></tr>
                <tr><td>HighChol</td><td>int</td><td>Whether the individual has high cholesterol: 0 for no, 1 for yes.</td><td>1</td></tr>
                <tr><td>BMI</td><td>float</td><td>Body Mass Index (BMI) of the individual.</td><td>28.0</td></tr>
                <tr><td>Smoker</td><td>int</td><td>Whether the individual smokes: 0 for no, 1 for yes.</td><td>0</td></tr>
                <tr><td>Stroke</td><td>int</td><td>Whether the individual has had a stroke: 0 for no, 1 for yes.</td><td>0</td></tr>
                <tr><td>HeartDiseaseorAttack</td><td>int</td><td>Whether the individual has had a heart disease or attack: 0 for no, 1 for yes.</td><td>1</td></tr>
                <tr><td>PhysActivity</td><td>int</td><td>Whether the individual engages in physical activity: 0 for no, 1 for yes.</td><td>1</td></tr>
                <tr><td>HvyAlcoholConsump</td><td>int</td><td>Whether the individual heavily consumes alcohol: 0 for no, 1 for yes.</td><td>0</td></tr>
                <tr><td>NoDocbcCost</td><td>int</td><td>Whether the individual has no doctor due to cost: 0 for no, 1 for yes.</td><td>0</td></tr>
                <tr><td>GenHlth</td><td>int</td><td>General health status of the individual, where 1 indicates poor health and 5 indicates excellent.</td><td>3</td></tr>
                <tr><td>MentHlth</td><td>int</td><td>Mental health status of the individual (usually 1-30 days of poor mental health in the last 30 days).</td><td>5</td></tr>
                <tr><td>PhysHlth</td><td>int</td><td>Physical health status of the individual (usually 1-30 days of poor physical health in the last 30 days).</td><td>3</td></tr>
                <tr><td>DiffWalk</td><td>int</td><td>Whether the individual has difficulty walking: 0 for no, 1 for yes.</td><td>0</td></tr>
                <tr><td>Age</td><td>int</td><td>Age of the individual.</td><td>45</td></tr>
                <tr><td>Education</td><td>int</td><td>Education level of the individual (coded as integer).</td><td>3</td></tr>
                <tr><td>Income</td><td>float</td><td>Income level of the individual.</td><td>2</td></tr>

            </tbody>
        </table>

        <h3>Example Request</h3>
        <pre><code>
            {
                "HighBP": 1,
                "HighChol": 1,
                "BMI": 28.0,
                "Smoker": 0,
                "Stroke": 0,
                "HeartDiseaseorAttack": 1,
                "PhysActivity": 1,
                "HvyAlcoholConsump": 0,
                "NoDocbcCost": 0,
                "GenHlth": 3,
                "MentHlth": 5,
                "PhysHlth": 3,
                "DiffWalk": 0,
                "Age": 45,
                "Education": 3,
                "Income": 2
            }
            
        </code></pre>

        <h2>Response</h2>
        <p>The response will be a JSON object containing the predicted category and its corresponding probability.</p>

        <h3>Response Body</h3>
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th>Parameter</th>
                    <th>Type</th>
                    <th>Description</th>
                    <th>Example</th>
                </tr>
            </thead>
            <tbody>
                <tr><td>prediction</td><td>string</td><td>The predicted category (0: Non_Diabetes, 1: Diabetes).</td><td>1</td></tr>
                <tr><td>probability</td><td>string</td><td>The predicted probability of the outcome (in percentage).</td><td>82.0</td></tr>
            </tbody>
        </table>

        <h3>Example Response</h3>
        <pre><code>
{
    "prediction": "1",
    "probability": "82.0"
}
        </code></pre>

        <h2>Explanation of Prediction Categories</h2>
        <ul>
            <li><strong>0:</strong> Non_Diabetes</li>
            <li><strong>1:</strong> Diabetes</li>
        </ul>

        <h2>Errors</h2>
        <p>
            <strong>400 Bad Request:</strong> If the input data is missing or malformed, a 400 error will be returned with a message explaining the issue.<br>
            <strong>500 Internal Server Error:</strong> If an unexpected error occurs on the server side, a 500 error will be returned.
        </p>

        <h2>Usage</h2>
        <p>To use the <code>/predict</code> endpoint, send a <strong>POST</strong> request with a properly structured JSON body to get the risk prediction for an individual based on their health and lifestyle data.</p>
    </div>
</body>
</html>
